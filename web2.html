<!DOCTYPE html>

<html>

<head>
  <!--<link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />-->
  <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
</head>

<body>

  <div>Please pick a number from 1-9. X will start first.</div>
  <div>  -   </div>
  <div>Example Board: </div>
  <div> (7)|(8)|(9)</div>
  <div> -----------</div>
  <div> (4)|(5)|(6)</div>
  <div>  -----------</div>
  <div> (1)|(2)|(3)</div>
  <div>  -   </div>

  <input type="text" id="play-input"/>
  <button id="submit-button2" type="submit" pys-onClick="display_board">Which Position?</button>
  <div id="play-output"></div>
  



<py-script>
  board_input = ['-','-','-','-','-','-','-','-','-','-']
  
  
  def display_board(*args, **kwargs):
  
      
      
    play_board = Element('play-input').element.value
  
    print('text:', play_board)

    if board_input.count('-')%2 == 0:
      board_input[int(play_board)] = 'X'
    else:
      board_input[int(play_board)] = 'O'

     
    Element('play-output').element.innerText = '\n {} | {} | {} \n -----------\n{} | {} | {}\n-----------\n{} | {} | {}'.format(board_input[7],board_input[8],board_input[9],board_input[4],board_input[5],board_input[6],board_input[1],board_input[2],board_input[3])

    for ttt_value in ['X','O']:
      if board_input[1:4].count(ttt_value) == 3 or board_input[4:7].count(ttt_value) == 3 or board_input[7:10].count(ttt_value) == 3:
        Element('play-output').element.innerText = '\n {} | {} | {} \n -----------\n{} | {} | {}\n-----------\n{} | {} | {}\n \n Player {} Wins!\n Please refresh for a new game!'.format(board_input[7],board_input[8],board_input[9],board_input[4],board_input[5],board_input[6],board_input[1],board_input[2],board_input[3],('1' if ttt_value == 'X' else '2'))
      elif board_input[1:8:3].count(ttt_value) == 3 or board_input[2:9:3].count(ttt_value) == 3 or board_input[3:10:3].count(ttt_value) == 3:
        Element('play-output').element.innerText = '\n {} | {} | {} \n -----------\n{} | {} | {}\n-----------\n{} | {} | {}\n \n Player {} Wins!\n Please refresh for a new game!'.format(board_input[7],board_input[8],board_input[9],board_input[4],board_input[5],board_input[6],board_input[1],board_input[2],board_input[3],('1' if ttt_value == 'X' else '2'))
      elif board_input[1:10:4].count(ttt_value) == 3:
        Element('play-output').element.innerText = '\n {} | {} | {} \n -----------\n{} | {} | {}\n-----------\n{} | {} | {}\n \n Player {} Wins!\n Please refresh for a new game!'.format(board_input[7],board_input[8],board_input[9],board_input[4],board_input[5],board_input[6],board_input[1],board_input[2],board_input[3],('1' if ttt_value == 'X' else '2'))
      elif board_input[3:8:2].count(ttt_value) == 3:
        Element('play-output').element.innerText = '\n {} | {} | {} \n -----------\n{} | {} | {}\n-----------\n{} | {} | {}\n \n Player {} Wins!\n Please refresh for a new game!'.format(board_input[7],board_input[8],board_input[9],board_input[4],board_input[5],board_input[6],board_input[1],board_input[2],board_input[3],('1' if ttt_value == 'X' else '2'))
      elif board_input.count('-') == 1:
        Element('play-output').element.innerText = '\n {} | {} | {} \n -----------\n{} | {} | {}\n-----------\n{} | {} | {}\n \n Nobody Won!\n Please refresh for a new game!'.format(board_input[7],board_input[8],board_input[9],board_input[4],board_input[5],board_input[6],board_input[1],board_input[2],board_input[3])
    
  </py-script>


</body>
</html>